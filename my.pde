float x = 10;
float y = 450;
float vx;
float vy;
float dx;
float dy;
float angle;
void setup(){
  size(600,600);
  rect(0,0,500,500);
  vx=0;
  vy=0;
  dx=0;
  dy=1;
  angle=0;
}

void draw(){
  //Control
  while(angle>360) {angle-=360;}
  while(angle<0) {angle+=360;}
  dx=1*sin(angle*PI/180);
  dy=1*cos(angle*PI/180);
  vy=vy+dy;
  y=y+vy;
  vx=vx+dx;
  x=x+vx;
  background(255);
  strokeWeight(10);
  rect(0,0,500,500);
  //y 1
  line(50,50,50,200);
  //2
  line(100,350,100,450);
  //3
  line(200,200,200,500);
  //4
  line(250,50,250,100);
  //5
  line(300,75,300,250);
  //6
  line(300,300,300,500);
  //7
  line(400,230,400,500);
  //x1
  line(325,50,500,50);
  //2
  line(100,100,250,100);
  //3
  line(300,200,450,200);
  //4
  line(200,250,300,250);
  //5
  line(0,300,150,300);
  //6
  line(425,350,475,350);
  //7
  line(200,400,275,400);
  
  
  ellipseMode(CENTER);
  
  //the frame
  if(y>=498){
    y=498;
    vy=-vy-2;
  }
  if(y<=2){
    y=2;
    vy=-vy+2;
  }
  if(x<=2){
    x=2;
    vx=-0.8*vx+2;
  }
  if(x>=498){
    x=498;
    vx=-0.8*vx-2;
  }
  
  //y1
  if((x<=50)&&(x>=40)&&(y>=50)&&(y<=200)){
    x=40;    
    vx=-0.8*vx-2;
  }
  if((x<=60)&&(x>=50)&&(y>=50)&&(y<=200)){
    x=60;
    vx=-0.8*vx+2;
  }
  //y2
  if((x<=100)&&(x>=90)&&(y>=350)&&(y<=450)){
    x=90;
    vx=-0.8*vx-2;
  }
  if((x<=110)&&(x>=100)&&(y>=350)&&(y<=450)){
    x=110;
    vx=-0.8*vx+2;
  }
  //y3
  if((x<=200)&&(x>=190)&&(y>=200)&&(y<=500)){
    x=190;
    vx=-0.8*vx-2;
  }
  if((x<=210)&&(x>=200)&&(y>=200)&&(y<=500)){
    x=210;
    vx=-0.8*vx+2;
  }
  //y4
  if((x<=250)&&(x>=240)&&(y>=50)&&(y<=100)){
    x=240;
    vx=-0.8*vx-2;
  }
  if((x<=260)&&(x>=250)&&(y>=50)&&(y<=100)){
    x=260;
    vx=-0.8*vx+2;
  }
  //y5
  if((x<=300)&&(x>=290)&&(y>=75)&&(y<=250)){
    x=290;
    vx=-0.8*vx-2;
  }
  if((x<=310)&&(x>=300)&&(y>=75)&&(y<=250)){
    x=310;
    vx=-0.8*vx+2;
  }
  //y6
  if((x<=300)&&(x>=290)&&(y>=300)&&(y<=500)){
    x=290;
    vx=-0.8*vx-2;
  }
  if((x<=310)&&(x>=300)&&(y>=300)&&(y<=500)){
    x=310;
    vx=-0.8*vx+2;
  }
    //y7
  if((x<=400)&&(x>=390)&&(y>=230)&&(y<=500)){
    x=390;
    vx=-0.8*vx-2;
  }
  if((x<=410)&&(x>=400)&&(y>=230)&&(y<=500)){
    x=410;
    vx=-0.8*vx+2;
  }

  
  //x1
  if((x<=500)&&(x>=325)&&(y>=50)&&(y<=40)){
    y=40;
    vy=-0.8*vy-2;
  }
  if((x<=500)&&(x>=325)&&(y>=50)&&(y<=60)){
    y=60;
    vy=-0.8*vy+2;
  }
  //x2
  if((x<=250)&&(x>=100)&&(y>=90)&&(y<=100)){
    y=90;
    vy=-0.8*vy-2;
  }
  if((x<=250)&&(x>=100)&&(y>=100)&&(y<=110)){
    y=110;
    vy=-0.8*vy+2;
  }
  //x3
  if((x<=450)&&(x>=300)&&(y>=190)&&(y<=200)){
    y=190;
    vy=-0.8*vy-2;
  }
  if((x<=450)&&(x>=300)&&(y>=200)&&(y<=210)){
    y=210;
    vy=-0.8*vy+2;
  }
  //x4
  if((x<=300)&&(x>=200)&&(y>=237)&&(y<=250)){
    y=237;
    vy=-0.8*vy-2;
  }
  if((x<=300)&&(x>=200)&&(y>=250)&&(y<=263)){
    y=263;
    vy=-0.8*vy+2;
  }
  //x5
  if((x<=250)&&(x>=0)&&(y>=290)&&(y<=300)){
    y=290;
    vy=-0.8*vy-2;
  }
  if((x<=250)&&(x>=0)&&(y>=300)&&(y<=310)){
    y=310;
    vy=-0.8*vy+2;
  }
  //x6
  if((x<=475)&&(x>=425)&&(y>=340)&&(y<=350)){
    y=340;
    vy=-0.8*vy-2;
  }
  if((x<=475)&&(x>=425)&&(y>=350)&&(y<=360)){
    y=360;
    vy=-0.8*vy+2;
  }
  //x7
  if((x<=275)&&(x>=200)&&(y>=390)&&(y<=400)){
    y=390;
    vy=-0.8*vy-2;
  }
  if((x<=275)&&(x>=200)&&(y>=400)&&(y<=410)){
    y=410;
    vy=-0.8*vy+2;
  }
  ellipse(x,y,4,4);
  translate(550,550);
  strokeWeight(2);
  rotate(-angle*PI/180);
  line(0,0,0,50);
  line(0,50,-2,45);
  line(0,50,2,45);
}
void keyPressed()
{
  if (key=='a') {angle--;}
  if (key=='d') {angle++;}
}
